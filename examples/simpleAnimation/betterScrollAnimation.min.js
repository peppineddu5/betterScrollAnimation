"use strict";var betterScrollAnimation=function(){function a(a){var d=this;this.name="bescan",this.prefix="bsa-",this.defClass="active",this.defClass=(null==a?void 0:a.defaultClass)||this.defClass,this.name=(null==a?void 0:a.name)||this.name,this.prefix=(null==a?void 0:a.prefix)||this.prefix;var b=document.querySelectorAll("[".concat(this.name,"]")),e={innerHeight:window.innerHeight,innerWidth:window.innerWidth};window.addEventListener("resize",function(){e.innerHeight=window.innerHeight,e.innerWidth=window.innerWidth});var f=[],g=(null==a?void 0:a.errorXD)||0,h=(null==a?void 0:a.errorXU)||0,i=(null==a?void 0:a.errorYD)||0,j=(null==a?void 0:a.errorYU)||0;((null==a?void 0:a.elToScroll)||window).addEventListener("scroll",function(){0!=f.length&&f.forEach(function(l,c){var a=b[l].getBoundingClientRect(),k=b[l];a.top>e.innerHeight+a.height-i&&a.bottom>e.innerHeight+a.height-i&&d.firstExit(k,f,c),a.bottom<j&&a.top<j&&d.secondExit(k,f,c),a.left<h&&a.right<h&&d.secondExit(k,f,c),a.left>e.innerWidth+a.width-g&&a.right>e.innerWidth+a.width-g&&d.firstExit(k,f,c)})});var c={root:null,rootMargin:(null==a?void 0:a.rootMargin)||"0px",threshold:(null==a?void 0:a.threshold)||.5},k=new IntersectionObserver(function(a){a.forEach(function(a){var c,e,h=a.target,l=h.classList,b=h.attributes,j=a.isIntersecting,i=b.getNamedItem(d.name).value,g=parseInt(b.getNamedItem(d.prefix+"index").value);if(j){if(d.isCustomAnimation(i,function(){return d.setClass(b,l)}),(null===(c=b.getNamedItem(d.prefix+"SA"))|| void 0===c?void 0:c.value)!==void 0)return k.unobserve(a.target);-1===f.indexOf(g)&&f.push(g)}if(-1===f.indexOf(g)&&((null===(e=b.getNamedItem(d.prefix+"OU"))|| void 0===e?void 0:e.value)===void 0||!(a.boundingClientRect.top<0)))return d.isCustomAnimation(i,function(){return d.setClass(b,l,"remove")})})},c);b.forEach(function(a,b){a.setAttribute(d.prefix+"index",b.toString()),k.observe(a)})}return a.prototype.isCustomAnimation=function(a,b){if(""===a||"custom"==a.toLowerCase())return b()},a.prototype.haveDelay=function(d,e,f){var a,g=this,b=null===(a=d.getNamedItem("".concat(this.prefix,"delay")))|| void 0===a?void 0:a.value;if(b){var c=parseInt(b);return isNaN(c)?(console.error("TypeError: The ".concat(this.prefix+"delay"," attribute has not received a number")),!0):(setTimeout(function(){e.add(f||g.defClass)},c),!0)}return!1},a.prototype.setClass=function(d,a,e){var b,c=null===(b=d.getNamedItem("".concat(this.prefix,"tranClass")))|| void 0===b?void 0:b.value;if(!this.haveDelay(d,a,c)){if(!e)return a.add(c||this.defClass);a.remove(c||this.defClass)}},a.prototype.delIndex=function(a,c){for(var b=c;b<a.length-1;b++)a[b]=a[b+1];a.pop()},a.prototype.firstExit=function(a,b,c){var d=this;this.delIndex(b,c),this.isCustomAnimation(a.attributes.getNamedItem(this.name).value,function(){return d.setClass(a.attributes,a.classList,"remove")})},a.prototype.secondExit=function(a,b,c){var d=this;this.delIndex(b,c),null===a.attributes.getNamedItem(this.prefix+"OU")&&this.isCustomAnimation(a.attributes.getNamedItem(this.name).value,function(){return d.setClass(a.attributes,a.classList,"remove")})},a}();module.exports=betterScrollAnimation